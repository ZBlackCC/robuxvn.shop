<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ROBUXVN.SHOP - RÚT ROBUX GIÁ RẺ NHẤT 2025</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700&family=Orbitron:wght@900&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f0f2f5;
    --card:#ffffff;
    --text:#000000;
    --accent:#00d4aa;
    --gold:#f1c40f;
    --red:#e74c3c;
    --border:#00d4aa;
  }
  *{margin:0;padding:0;box-sizing:border-box}
  body{
    background:var(--bg) url('https://i.imgur.com/5wR1pXb.png') repeat;
    color:var(--text);
    font-family:'Roboto',sans-serif;
    min-height:100vh;
    line-height:1.6;
  }

  /* HEADER SIÊU ĐẸP + RESPONSIVE */
  .header{
    background:linear-gradient(135deg,#00d4aa,#00a085);
    padding:40px 20px;
    text-align:center;
    box-shadow:0 10px 40px rgba(0,212,170,0.4);
  }
  .header h1{
    font-family:'Orbitron',sans-serif;
    font-size:clamp(2.8rem, 10vw, 5.5rem);
    color:#fff;
    text-shadow:0 0 30px #000, 5px 5px 0 var(--gold);
    letter-spacing:5px;
    margin:0;
  }
  .header p{
    color:#fff;
    font-size:clamp(1.1rem, 3vw, 1.4rem);
    margin-top:10px;
    font-weight:500;
  }

  /* TAB NGANG ĐẸP + MOBILE KHÔNG BỊ TRÀN */
  .nav{
    display:flex;
    justify-content:center;
    flex-wrap:nowrap;
    overflow-x:auto;
    gap:8px;
    padding:15px 10px;
    background:#fff;
    position:sticky;
    top:0;
    z-index:99;
    box-shadow:0 4px 20px rgba(0,0,0,0.1);
    scrollbar-width:none;
  }
  .nav::-webkit-scrollbar{display:none;}
  .nav button{
    white-space:nowrap;
    background:#fff;
    color:#000;
    padding:14px 20px;
    border:3px solid transparent;
    border-radius:14px;
    font-weight:700;
    font-size:15px;
    cursor:pointer;
    transition:all .4s;
    min-width:120px;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
  }
  .nav button:hover,.nav button.active{
    background:var(--accent);
    color:#fff;
    border-color:var(--accent);
    transform:translateY(-4px);
    box-shadow:0 10px 25px rgba(0,212,170,0.5);
  }

  /* CONTAINER CHUẨN MOBILE */
  .container{
    max-width:750px;
    margin:30px auto;
    background:var(--card);
    padding:30px;
    border-radius:22px;
    border:4px solid var(--border);
    box-shadow:0 15px 50px rgba(0,212,170,0.3);
  }

  h2{
    color:var(--accent);
    text-align:center;
    margin-bottom:25px;
    font-size:clamp(1.9rem, 5vw, 2.5rem);
    text-shadow:0 2px 8px rgba(0,0,0,0.2);
  }

  /* INPUT + BUTTON SIÊU ĐẸP */
  input, button{
    width:100%;
    padding:18px;
    margin:15px 0;
    border:none;
    border-radius:16px;
    font-size:18px;
    font-weight:600;
  }
  input{
    background:#f8f9fa;
    border:3px solid #ddd;
    transition:.4s;
  }
  input:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:0 0 20px rgba(0,212,170,0.4);
  }
  button{
    background:linear-gradient(45deg,var(--accent),#00b894);
    color:#fff;
    cursor:pointer;
    box-shadow:0 10px 30px rgba(0,212,170,0.4);
    transition:.4s;
  }
  button:hover{
    transform:translateY(-6px);
    box-shadow:0 20px 40px rgba(0,212,170,0.6);
  }

  /* GÓI NẠP ĐẸP LUNG LINH */
  .packages{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
    gap:18px;
    margin:30px 0;
  }
  .pkg{
    background:#f8f9fa;
    padding:25px 15px;
    border-radius:18px;
    text-align:center;
    cursor:pointer;
    border:3px solid #eee;
    transition:all .5s;
    box-shadow:0 8px 25px rgba(0,0,0,0.1);
  }
  .pkg:hover{
    border-color:var(--accent);
    transform:translateY(-12px) scale(1.05);
    box-shadow:0 25px 50px rgba(0,212,170,0.4);
    background:#fff;
  }
  .pkg h3{
    font-size:2rem;
    color:var(--gold);
    margin-bottom:8px;
  }
  .pkg p{
    font-weight:700;
    color:#333;
  }

  #robuxPreview{
    font-size:clamp(28px, 6vw, 36px);
    color:var(--gold);
    font-weight:bold;
    text-align:center;
    margin:25px 0;
    text-shadow:0 0 15px var(--gold);
  }

  .qr{
    max-width:320px;
    margin:30px auto;
    display:block;
    border:8px solid var(--accent);
    border-radius:20px;
    box-shadow:0 0 50px rgba(0,212,170,0.6);
  }

  /* VÒNG QUAY XỊN HƠN */
  #wheelContainer{
    text-align:center;
    padding:20px 0;
  }
  #wheel{
    width:340px;
    height:340px;
    border-radius:50%;
    border:14px solid #fff;
    box-shadow:0 0 60px var(--accent), inset 0 0 60px rgba(0,0,0,0.3);
    transition:transform 6s cubic-bezier(0.17,0.67,0.12,0.99);
  }
  .prize{
    font-size:clamp(2.2rem, 6vw, 3rem);
    color:var(--gold);
    font-weight:bold;
    margin:25px 0;
    text-shadow:0 0 20px var(--gold);
  }

  .tab{display:none}
  .tab.active{display:block}

  /* Mobile fix nhỏ */
  @media (max-width: 480px){
    .container{padding:25px;margin:20px 15px;}
    .nav button{font-size:14px;padding:12px 16px;min-width:110px;}
    .packages{gap:15px;}
    .pkg{padding:20px 10px;}
  }
</style>
</head>
<body>

<div class="header">
  <h1>ROBUXVN.SHOP</h1>
  <p>RÚT ROBUX GIÁ RẺ NHẤT VIỆT NAM – NOEL 2025</p>
</div>

<div class="nav">
  <button onclick="openTab('home')" class="active">TRANG CHỦ</button>
  <button onclick="openTab('nap')">NẠP ROBUX</button>
  <button onclick="openTab('rut')">RÚT ROBUX</button>
  <button onclick="openTab('vongquay')">VÒNG QUAY</button>
  <button onclick="openTab('giftcode')">GIFTCODE</button>
  <button onclick="openTab('danhgia')">ĐÁNH GIÁ</button>
</div>

<div class="container">

  <div id="home" class="tab active">
    <h2>Xin chào <span id="name">khách</span>!</h2>
    <p style="text-align:center;font-size:32px;margin:40px 0">
      Số dư: <b id="bal" style="color:var(--gold)">0</b> Robux
    </p>
    <div style="text-align:center">
      <button onclick="openTab('nap')" style="padding:22px 80px;font-size:24px">NẠP ROBUX NGAY</button>
    </div>
  </div>

  <div id="nap" class="tab">
    <h2>NẠP ROBUX QUA NGÂN HÀNG</h2>
    <p style="text-align:center;color:#555;font-size:19px;margin-bottom:20px">
      <b>10.000đ = 65 Robux</b> – Giá rẻ nhất thị trường!
    </p>
    
    <input type="number" id="amount" placeholder="Nhập số tiền (VD: 100000)" oninput="calcRobux()">
    <div id="robuxPreview">0 Robux</div>
    
    <div class="packages">
      <div class="pkg" onclick="document.getElementById('amount').value=100000;calcRobux()">
        <h3>100K</h3><p>650 Robux</p>
      </div>
      <div class="pkg" onclick="document.getElementById('amount').value=200000;calcRobux()">
        <h3>200K</h3><p>1.300 Robux</p>
      </div>
      <div class="pkg" onclick="document.getElementById('amount').value=500000;calcRobux()">
        <h3>500K</h3><p>3.250 Robux</p>
      </div>
      <div class="pkg" onclick="document.getElementById('amount').value=1000000;calcRobux()">
        <h3>1 TRIỆU</h3><p>6.500 Robux</p>
      </div>
    </div>
    
    <button onclick="createQR()">TẠO MÃ QR THANH TOÁN</button>
    <div id="qrDiv"></div>
  </div>

  <div id="rut" class="tab">
    <h2>RÚT ROBUX</h2>
    <input type="text" id="rbxUser" placeholder="Username Roblox">
    <input type="number" id="rbxAmt" placeholder="Số Robux muốn rút">
    <button onclick="sendRut()">GỬI YÊU CẦU RÚT</button>
    <p id="rutMsg"></p>
  </div>

  <div id="vongquay" class="tab">
    <h2>VÒNG QUAY MAY MẮN</h2>
    <p style="text-align:center;font-size:23px;margin-bottom:30px">
      Giá quay: <b style="color:var(--gold)">30 Robux</b> / lần
    </p>
    <div id="wheelContainer">
      <canvas id="wheel" width="340" height="340"></canvas>
      <div class="prize" id="prizeText">Nhấn QUAY để thử vận may!</div>
      <button onclick="spin()" style="margin-top:30px;padding:20px 70px;font-size:21px">QUAY NGAY – 30 Robux</button>
    </div>
  </div>

  <div id="giftcode" class="tab">
    <h2>NHẬP GIFTCODE</h2>
    <input type="text" id="giftInput" placeholder="Nhập mã giftcode">
    <button onclick="useGift()">SỬ DỤNG NGAY</button>
    <p id="giftMsg"></p>
  </div>

  <div id="danhgia" class="tab">
    <h2>ĐÁNH GIÁ TỪ KHÁCH HÀNG (5★)</h2>
    <div id="reviews"></div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
// GIỮ NGUYÊN 100% JS CŨ CỦA MÀY – CHỈ THÊM ĐẸP HƠN
function openTab(t){
  document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
  document.querySelectorAll('.nav button').forEach(x=>x.classList.remove('active'));
  document.getElementById(t).classList.add('active');
  document.querySelector(`button[onclick="openTab('${t}')"]`).classList.add('active');
}

function calcRobux(){
  const money = parseInt(document.getElementById("amount").value) || 0;
  const robux = Math.floor(money / 10000 * 65);
  document.getElementById("robuxPreview").innerHTML = `<b>${robux.toLocaleString()}</b> Robux`;
}
calcRobux();

async function createQR(){
  const a = document.getElementById("amount").value;
  if(!a||a<50000)return alert("Tối thiểu 50.000đ nha bro!");
  try {
    const r = await axios.post("/qr",{amount:Number(a),user:"demo"});
    document.getElementById("qrDiv").innerHTML=`
      <p style="text-align:center;font-size:22px;margin:20px 0">Bạn sẽ nhận <b style="color:var(--gold)">${(a/10000*65).toLocaleString()} Robux</b></p>
      <img class="qr" src="${r.data.qr}">
      <p style="text-align:center;word-break:break-all;margin-top:20px;background:#f0f2f5;padding:15px;border-radius:12px">
        <b>Nội dung chuyển khoản:</b><br>${r.data.desc}
      </p>`;
  } catch { alert("Lỗi kết nối, thử lại sau nhé!"); }
}

const prizes = [
  {text:"5 Robux",   color:"#95a5a6", weight:300},
  {text:"10 Robux",  color:"#7289da", weight:250},
  {text:"30 Robux",  color:"#2ecc71", weight:200},
  {text:"50 Robux",  color:"#3498db", weight:150},
  {text:"200 Robux", color:"#e74c3c", weight:5},
  {text:"500 Robux", color:"#f1c40f", weight:1}
];
let spinning = false;

function drawWheel(){
  const c = document.getElementById("wheel");
  const ctx = c.getContext("2d");
  const total = prizes.reduce((a,b)=>a+b.weight,0);
  let start = 0;
  prizes.forEach((p,i)=>{
    const angle = (p.weight/total)*2*Math.PI;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.moveTo(170,170);
    ctx.arc(170,170,170,start,start+angle);
    ctx.fill();
    ctx.save();
    ctx.translate(170,170);
    ctx.rotate(start+angle/2);
    ctx.fillStyle = "#fff";
    ctx.font = "bold 20px Roboto";
    ctx.fillText(p.text, 85, 8);
    ctx.restore();
    start += angle;
  });
}
drawWheel();

function spin(){
  if(spinning) return;
  spinning = true;
  document.getElementById("prizeText").innerHTML = "Đang quay...";
  const canvas = document.getElementById("wheel");
  const rand = Math.floor(Math.random() * 3600) + 1800;
  canvas.style.transform = `rotate(${rand}deg)`;

  setTimeout(()=>{
    const total = prizes.reduce((a,b)=>a+b.weight,0);
    let roll = Math.random() * total;
    let winner;
    for(let p of prizes){
      roll -= p.weight;
      if(roll <= 0){winner = p; break;}
    }
    document.getElementById("prizeText").innerHTML = 
      `CHÚC MỪNG!<br><b style="font-size:3.5rem;color:${winner.color}">${winner.text}</b>`;
    spinning = false;
  }, 6000);
}

function useGift(){
  const c = document.getElementById("giftInput").value.trim().toUpperCase();
  if(["NOEL2025","ROBUXVN","FREE500"].includes(c)){
    alert("CHÚC MỪNG! Bạn nhận được 500 Robux từ giftcode!");
  }else alert("Mã giftcode không hợp lệ rồi bro ơi :(");
}

const reviews = [
  "Rút siêu nhanh, chỉ 2 phút có Robux!",
  "Nạp 1 triệu được đúng 6500R, quá uy tín!",
  "Trúng 500R từ vòng quay, quá ngon!",
  "Admin donate đúng username, 5 sao!",
  "Shop đẹp nhất mình từng thấy",
  "Hỗ trợ 24/7, rút 3h sáng vẫn có người duyệt"
];
function genReviews(){
  const div = document.getElementById("reviews");
  reviews.sort(()=>Math.random()-0.5).forEach(t=>{
    div.innerHTML += `<div style="background:#f9f9f9;padding:25px;margin:20px 0;border-radius:18px;border-left:6px solid var(--gold);box-shadow:0 10px 30px rgba(0,0,0,0.1)">
      <div style="color:var(--gold);font-size:2rem">★★★★★</div>
      <p style="margin:10px 0;font-weight:bold">Khách hàng ẩn danh</p>
      <p style="font-size:18px;line-height:1.5">${t}</p>
    </div>`;
  });
}
genReviews();
</script>
</body>
</html>